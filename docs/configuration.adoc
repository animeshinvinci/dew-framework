== 配置速查

=== `Dew` 参数

[source,yml]
----
dew: # Dew 参数key前缀
    cloud:
        error:
             notify-interval-mill-sec: #阶段时间
             notify-emails: #通知的邮箱
             notify-event-types: #通知的事件类型
             judge-type: #include或exclude，不配置则为全局监控
             notify-include-keys: #需监控的方法key值，client类名+#+方法名，for example:  ExampleClient#deleteExe(int,String)
    basic: # 基础信息
        name: # 服务名称，用于API文档显示等
        version: # 服务版本号，用于API文档显示等
        desc: # 服务描述，用于API文档显示等
        webSite: # 官网，用于API文档显示等
        doc:
            base-package: # API文档要扫描的根包，多指定到 Controller 包中
        format:
        use-unity-error: # 是否启用统一响应，默认true
        reuse-http-state: # true:重用http状态码，false:使用协议无关格式，默认true
        error-mapping: # 自定义错误映射
            "[<异常类名>]":
                http-code: # http状态码，不存在时使用实例级http状态码
                business-code: # 业务编码，不存在时使用实例级业务编码
                message: # 错误描述，不存在时使用实例级错误描述
    cluster: # 集群功能
        cache: # 缓存实现，默认为 redis
        dist: # 分布式锁和Map实现，默认为 redis，可选 redis/hazelcast
        mq: # MQ实现，默认为 redis，可选 redis/hazelcast/rabbit
        election: # 领导者选举实现，默认为 eureka
    jdbc: # DewJDBC功能
        base-packages:[""] # 要扫描的根包，多指定到 jdbc 包中
    security: # 安全功能
        cors:
            allow-origin: # 允许的来源，默认为 * ，建议修改
            allow-methods: # 允许的方法，默认为所有常用方法
            allow-headers: # 允许的头信息，默认为 x-requested-with,content-type
        token-flag: # token 标识，默认为  __dew_token__
        token-in-header: # true：token标识在 header 中，反之在url参数中，默认为true
        token-hash: # token值是否需要hash，用于解决token值有特殊字符的情况，默认为false
        include-services: [""] # 服务白名单，要求源服务头部带上 Request-From
        exclude-services: [""] # 服务黑名单，要求源服务头部带上 Request-From
        auth-adapter: uc  #uc或basic,默认为basic
            #开启uc模式后的app配置
            uc-auth-adapter:
                host: #用户中心地址
                app-id: #app-id
                app-secret: #app-secret 秘钥

spring:
  datasource: # 主数据源配置
        ... # 数据源配置，详见 Spring boot 核心参数
       druid: # druid 连接池配置，详见 Spring boot 核心参数
  multi-datasources: # DewJDBC 多数据源支撑
       <other ds name>: # 数据源标识
  mail: #mail配置，需要hystrix降级通知需加以下配置
       host: smtp.163.com
       username:
       password:
       properties:
         mail:
           smtp:
             auth: true
             starttls:
               enable: true
               required: true

#sharding-jdbc配置（分库分表样例，详细见使用手册及sharding-example）
sharding:
  jdbc:
    datasource:
      names: ds_0,ds_1
      ds_0:
        type: org.apache.commons.dbcp.BasicDataSource
        driverClassName: com.mysql.jdbc.Driver
        url: jdbc:mysql://mysql.fengdai.org:3306/ds_yaml_0
        username: root
        password: tairan2017!
      ds_1:
        type: org.apache.commons.dbcp.BasicDataSource
        driverClassName: com.mysql.jdbc.Driver
        url: jdbc:mysql://mysql.fengdai.org:3306/ds_yaml_1
        username: root
        password: tairan2017!
    config:
      sharding:
        tables:
          t_order:
            actualDataNodes: ds_${0..1}.t_order_${0..1}
            #generateKeyColumns:
              #- columnName: order_id
            tableStrategy:
              inline:
                shardingColumn: order_id
                algorithmInlineExpression: t_order_${order_id.longValue() % 2}
          t_order_item:
            actualDataNodes: ds_${0..1}.t_order_item_${0..1}
            tableStrategy:
              inline:
                shardingColumn: order_id
                algorithmInlineExpression: t_order_item_${order_id.longValue() % 2}
        #绑定表中其余的表的策略与第一张表的策略相同
        bindingTables:
          - t_order,t_order_item
        #默认数据库分片策略
        defaultDatabaseStrategy:
          inline:
            shardingColumn: user_id
            algorithmInlineExpression: ds_${user_id.longValue() % 2}
        props:
          sql.show: false

----

=== `Spring boot` 核心参数

TIP: https://docs.spring.io/spring-boot/docs/current/reference/html/common-application-properties.html


=== `Druid` 连接池参数

TIP: https://github.com/alibaba/druid/wiki/DruidDataSource配置属性列表

=== `Spring cloud` 核心参数

TIP: http://cloud.spring.io/spring-cloud-static/spring-cloud-netflix/1.3.4.RELEASE/


